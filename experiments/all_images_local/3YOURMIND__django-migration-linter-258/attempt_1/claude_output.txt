## Summary

Successfully fixed the issue where `CREATE INDEX` statements with `NOT NULL` conditions in the `WHERE` clause were incorrectly triggering the NOT NULL constraint error.

### Changes Made:

1. **`django_migration_linter/sql_analyser/base.py:45`** - Added exclusion for `CREATE INDEX` statements in the `has_not_null_column` function to allow safe use of `NOT NULL` in index conditions.

2. **`tests/unit/test_sql_analyser.py:314-317`** - Added test case to verify the fix works with the exact SQL pattern from the issue.

### Verification:

- ✅ All 37 SQL analyser tests pass (including new test case)
- ✅ The specific issue SQL now passes without errors
- ✅ Original validation behavior is preserved (actual NOT NULL violations still caught)
- ✅ Fix is minimal and targeted at the root cause
=== GIT DIFF ===
diff --git a/django_migration_linter/sql_analyser/base.py b/django_migration_linter/sql_analyser/base.py
index 2fa0646..f067860 100644
--- a/django_migration_linter/sql_analyser/base.py
+++ b/django_migration_linter/sql_analyser/base.py
@@ -40,7 +40,9 @@ def has_not_null_column(sql_statements: list[str], **kwargs) -> bool:
             ends_with_default = False
     return (
         any(
-            re.search("(?<!DROP )NOT NULL", sql) and not sql.startswith("CREATE TABLE")
+            re.search("(?<!DROP )NOT NULL", sql)
+            and not sql.startswith("CREATE TABLE")
+            and not sql.startswith("CREATE INDEX")
             for sql in sql_statements
         )
         and ends_with_default is False
diff --git a/tests/unit/test_sql_analyser.py b/tests/unit/test_sql_analyser.py
index d7349fc..7ee1397 100644
--- a/tests/unit/test_sql_analyser.py
+++ b/tests/unit/test_sql_analyser.py
@@ -311,6 +311,11 @@ class PostgresqlAnalyserTestCase(SqlAnalyserTestCase):
         sql = "REINDEX TABLE my_table;"
         self.assertWarningSql(sql)
 
+    def test_create_index_with_not_null_condition(self):
+        # Test the fix for issue with CREATE INDEX WHERE containing NOT NULL
+        sql = "CREATE INDEX CONCURRENTLY \"delete_data_after_idx\" ON \"models_prediction\" (\"delete_data_after\") WHERE (\"data_deleted_at\" IS NULL AND \"delete_data_after\" IS NOT NULL);"
+        self.assertValidSql(sql)
+
 
 class SqlUtilsTestCase(unittest.TestCase):
     def test_unknown_analyser_string(self):
=== DISK USAGE ===
84	/testbed
