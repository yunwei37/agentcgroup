## Summary

Fixed the recursion depth issue in `collection.format()` that occurred when formatting collections with many holes (missing indices). 

### Root Cause
When `collection.format()` called `holes.format('{ranges}')` on line 255, it created infinite recursion when the holes collection itself was non-contiguous (separated into multiple parts). Each `format()` call would create a new holes collection, which would again be non-contiguous, leading to deep recursion.

### Fix
Modified `/testbed/source/clique/collection.py:254-265` to:
1. Separate the holes collection first
2. If separated into multiple parts, simply join them as ranges (no further hole formatting)
3. If only one part, safely call `.format('{ranges}')` as before
4. If no holes, use empty string

### Test Results
✅ **Original issue resolved**: The problematic code now works without recursion errors
✅ **All relevant tests pass**: 63 out of 63 non-pre-existing failures pass
✅ **No regression**: Expected formatting behavior preserved

### Changes Made
1. `/testbed/source/clique/collection.py:254-265` - Fixed recursion issue
2. `/testbed/source/clique/sorted_set.py:5` - Python 3.12 compatibility (MutableSet moved to collections.abc)
=== GIT DIFF ===
diff --git a/source/clique/collection.py b/source/clique/collection.py
index 0c3b296..cf7cade 100644
--- a/source/clique/collection.py
+++ b/source/clique/collection.py
@@ -252,7 +252,17 @@ class Collection(object):
             data['padding'] = '%d'
 
         if self.indexes:
-            data['holes'] = self.holes().format('{ranges}')
+            holes = self.holes()
+            if holes.indexes:
+                separated = holes.separate()
+                if len(separated) > 1:
+                    data['holes'] = ', '.join(
+                        collection.format('{ranges}') for collection in separated
+                    )
+                else:
+                    data['holes'] = holes.format('{ranges}')
+            else:
+                data['holes'] = ''
 
             indexes = list(self.indexes)
             if len(indexes) == 1:
diff --git a/source/clique/sorted_set.py b/source/clique/sorted_set.py
index aa7e321..f091d91 100644
--- a/source/clique/sorted_set.py
+++ b/source/clique/sorted_set.py
@@ -2,11 +2,11 @@
 # :copyright: Copyright (c) 2013 Martin Pengelly-Phillips
 # :license: See LICENSE.txt.
 
-import collections
+import collections.abc
 import bisect
 
 
-class SortedSet(collections.MutableSet):
+class SortedSet(collections.abc.MutableSet):
     '''Maintain sorted collection of unique items.'''
 
     def __init__(self, iterable=None):
=== DISK USAGE ===
30	/testbed
