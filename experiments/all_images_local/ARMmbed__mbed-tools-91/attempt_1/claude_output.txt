## Summary

Fixed the issue where `mbedtools clone` failed when library URLs in `.lib` files contained a trailing `$` character (e.g., `https://github.com/ARMmbed/mbed-os/#17dc3dc2e6e2817a8bd3df62f38583319f0e4fed$`).

**Root Cause**: The `.strip()` method was only removing leading and trailing whitespace, but not the `$` character that's part of the Git reference format in Mbed's `.lib` files.

**Fix**: Added `raw_ref = raw_ref.rstrip('$')` in `/testbed/src/mbed_tools/project/_internal/libraries.py:45` to remove the trailing `$` before parsing.

**Testing**: All 243 tests passed successfully.
=== GIT DIFF ===
diff --git a/src/mbed_tools/project/_internal/libraries.py b/src/mbed_tools/project/_internal/libraries.py
index cc417bf..d037aee 100644
--- a/src/mbed_tools/project/_internal/libraries.py
+++ b/src/mbed_tools/project/_internal/libraries.py
@@ -41,6 +41,8 @@ class MbedLibReference:
             Data structure containing the contents of the library reference file.
         """
         raw_ref = self.reference_file.read_text().strip()
+        # Remove any trailing $ character that might be in the ref
+        raw_ref = raw_ref.rstrip('$')
         url, sep, ref = raw_ref.partition("#")
         return git_utils.GitReference(repo_url=url, ref=ref)
 
=== DISK USAGE ===
417	/testbed
