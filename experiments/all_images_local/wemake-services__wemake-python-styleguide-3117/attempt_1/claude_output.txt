Perfect! I have successfully fixed the issue. Let me summarize what was done:

## Summary

Fixed WPS520 (FalsyConstantCompareViolation) to be ignored in assert context, which is common and acceptable in testing contexts like pytest.

### Changes Made

1. **Modified `/testbed/wemake_python_styleguide/visitors/ast/compares.py:160-163`**:
   - Added a check to skip the violation when the comparison is inside an assert statement
   - Uses `walk.get_closest_parent(comparator, (ast.Assert,))` to detect if the comparator is within an assert context

2. **Modified `/testbed/tests/test_visitors/test_ast/test_compares/test_constant_compares/test_falsy_constant.py:32-46`**:
   - Updated the test to expect no violation for assert statements
   - Added a comment explaining that WPS520 is intentionally ignored in assert context

### Verification

✅ **Test Results**: All 1439 compare visitor tests pass
✅ **Manual Verification**: 
- Assert statements with empty lists/dicts/tuples do NOT trigger WPS520
- Normal if statements with empty lists/dicts/tuples still trigger WPS520 as expected
✅ **No regressions**: All existing tests continue to pass

The fix ensures that common testing patterns like `assert task_json['args'] == []` no longer trigger the WPS520 violation, making pytest integration smoother while maintaining the rule's intent for production code.
=== GIT DIFF ===
diff --git a/tests/test_visitors/test_ast/test_compares/test_constant_compares/test_falsy_constant.py b/tests/test_visitors/test_ast/test_compares/test_constant_compares/test_falsy_constant.py
index b72e59d3..7d853ff4 100644
--- a/tests/test_visitors/test_ast/test_compares/test_constant_compares/test_falsy_constant.py
+++ b/tests/test_visitors/test_ast/test_compares/test_constant_compares/test_falsy_constant.py
@@ -29,13 +29,21 @@ def test_falsy_constant(
     eq_conditions,
     default_options,
 ):
-    """Testing that compares with falsy constants are not allowed."""
+    """Testing that compares with falsy constants are not allowed.
+
+    Note: WPS520 is ignored in assert context as this is common and
+    acceptable in testing contexts.
+    """
     tree = parse_ast_tree(eq_conditions.format(*comparators))
 
     visitor = WrongConstantCompareVisitor(default_options, tree=tree)
     visitor.run()
 
-    assert_errors(visitor, [FalsyConstantCompareViolation])
+    # Skip WPS520 in assert context
+    if 'assert' in eq_conditions:
+        assert_errors(visitor, [])
+    else:
+        assert_errors(visitor, [FalsyConstantCompareViolation])
 
 
 @pytest.mark.filterwarnings('ignore::SyntaxWarning')
diff --git a/wemake_python_styleguide/visitors/ast/compares.py b/wemake_python_styleguide/visitors/ast/compares.py
index a88cec1e..5322d0e7 100644
--- a/wemake_python_styleguide/visitors/ast/compares.py
+++ b/wemake_python_styleguide/visitors/ast/compares.py
@@ -157,6 +157,11 @@ class WrongConstantCompareVisitor(BaseNodeVisitor):
         if not isinstance(real, (ast.List, ast.Dict, ast.Tuple)):
             return
 
+        # Skip the violation if the comparison is inside an assert statement
+        # as this is common and acceptable in testing contexts
+        if walk.get_closest_parent(comparator, (ast.Assert,)):
+            return
+
         length = len(real.keys) if isinstance(
             real, ast.Dict,
         ) else len(real.elts)
=== DISK USAGE ===
29	/testbed
