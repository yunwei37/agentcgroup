Perfect! The issue has been successfully fixed. Let me provide a summary:

## Summary

**Problem:** The `run_background_game` function was calling `parse_layout(layout, food=food, bots=bots)` on line 107 without accepting `food` and `bots` as parameters, causing a `NameError`.

**Solution:** Added `food=None` and `bots=None` parameters to the function signature and updated the docstring.

**Changes made:**
- Updated function signature in `/testbed/pelita/utils.py:22`
- Added documentation for the new parameters in the docstring

**Testing:**
- ✅ All 885 existing tests pass (1 xfailed, expected)
- ✅ The specific issue case now works correctly
- ✅ No regressions detected

**Final git diff:**
```diff
-def run_background_game(*, blue_move, red_move, layout=None, max_rounds=300, seed=None):
+def run_background_game(*, blue_move, red_move, layout=None, max_rounds=300, seed=None, food=None, bots=None):
     """Run a pelita match.
 
     Parameters
@@ -48,6 +48,12 @@ def run_background_game(*, blue_move, red_move, layout=None, max_rounds=300, see
     seed : int
         seed used to initialize the random number generator.
 
+    food : list
+        additional food pellets to place in the maze.
+
+    bots : dict
+        positions for the bots as specified in the layout string.
+
 
     Returns
    -------```
</parameter>
```

The fix is minimal, targeted, and fully tested.
=== GIT DIFF ===
diff --git a/pelita/utils.py b/pelita/utils.py
index c5bdf54c..c77a2539 100644
--- a/pelita/utils.py
+++ b/pelita/utils.py
@@ -19,7 +19,7 @@ from .team import walls_to_graph
 # users to run background games. It hides most of the parameters of run_game which
 # are not relevant to the user in this setup and reformats the rest so that we
 # don't leak internal implementation details and indices.
-def run_background_game(*, blue_move, red_move, layout=None, max_rounds=300, seed=None):
+def run_background_game(*, blue_move, red_move, layout=None, max_rounds=300, seed=None, food=None, bots=None):
     """Run a pelita match.
 
     Parameters
@@ -48,6 +48,12 @@ def run_background_game(*, blue_move, red_move, layout=None, max_rounds=300, see
     seed : int
         seed used to initialize the random number generator.
 
+    food : list
+        additional food pellets to place in the maze.
+
+    bots : dict
+        positions for the bots as specified in the layout string.
+
 
     Returns
     -------
=== DISK USAGE ===
17	/testbed
